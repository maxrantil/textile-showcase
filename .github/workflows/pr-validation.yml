# ABOUTME: PR validation workflows for textile-showcase (using centralized reusable workflows)

name: PR Validation

on:
  pull_request:
    branches: [master]
    types: [opened, edited, synchronize]

jobs:
  pr-title:
    name: Check PR Title
    permissions:
      pull-requests: read
    uses: maxrantil/.github/.github/workflows/pr-title-check-reusable.yml@master
    with:
      allowed-types: 'feat,fix,docs,style,refactor,test,chore,perf,ci,build'

  commit-format:
    name: Check Commit Format
    permissions:
      contents: read
    uses: maxrantil/.github/.github/workflows/conventional-commit-check-reusable.yml@master
    with:
      base-branch: 'master'
      allowed-types: 'feat,fix,docs,style,refactor,test,chore,perf,ci,build'

  ai-attribution:
    name: Block AI Attribution
    permissions:
      contents: read
      pull-requests: read
    uses: maxrantil/.github/.github/workflows/block-ai-attribution-reusable.yml@master
    with:
      base-branch: 'master'

  commit-quality:
    name: Commit Quality Check
    permissions:
      pull-requests: write
      contents: read
    uses: maxrantil/.github/.github/workflows/commit-quality-check-reusable.yml@master
    with:
      base-branch: 'master'
      fail-on-fixups: false
      suggest-cleanup: true
      cleanup-score-threshold: 'MEDIUM'

  session-handoff:
    name: Verify Session Handoff
    # Skip Dependabot PRs - session handoff only applies to manual development work
    # Dependabot PRs are automated dependency updates that don't require session documentation
    if: github.actor != 'dependabot[bot]'
    permissions:
      contents: read
    uses: maxrantil/.github/.github/workflows/session-handoff-check-reusable.yml@master
    with:
      base-branch: 'master'
